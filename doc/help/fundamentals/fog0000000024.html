<!-- Published by Fog Creek Software CityDesk KMAOLQRKGNJKSMQD/76B20119/24 -->
<!-- topic template -->
<html>

<head>
	<meta http-equiv="Content-Language" content="en-ca" />
	<meta http-equiv="Content-Type" content="text/html; charset=windows-1252" />
	<meta name="description" content="Targets" />
	<link rel="stylesheet" type="text/css" href="../style.css" />
	<title>Targets</title>
</head>

<body>
	<table width="100%" border="0" cellspacing="0" cellpadding="2" class="NavBar">
		<tr><td class="NavBar-Cell" width="100%">
			<a title="NAnt home page" href="http://nant.sourceforge.net"><b>NAnt</b></a> 
			<img alt="->" src="../images/arrow.gif" /> 
			<a href="../index.html">Help</a> 
			<img alt="->" src="../images/arrow.gif" /> 
			<A href="fog0000000027.html">Fundamentals</A> <IMG height=9 alt="->" src="../images/arrow.gif" width=13 border=0>
			Targets
		</td></tr>
	</table>
	<h1>Targets</h1>
	<P>A target has these attributes:</P>
<DIV class=Table-Section>
<TABLE class=Table>
<TBODY>
<TR>
<TH class=Table-Header>Attribute</TH>
<TH class=Table-Header>Description</TH>
<TH class=Table-Header align=middle>Required</TH></TR>
<TR>
<TD class=Table-Cell>name</TD>
<TD class=Table-Cell>the name of the target.</TD>
<TD class=Table-Cell align=middle>Yes</TD></TR>
<TR>
<TD class=Table-Cell>depends</TD>
<TD class=Table-Cell>a comma-separated list of names of targets on which this target depends.</TD>
<TD class=Table-Cell align=middle>No</TD></TR>
<TR>
<TD class=Table-Cell>if</TD>
<TD class=Table-Cell>the name of the property that must be set in order for this target to execute.</TD>
<TD class=Table-Cell align=middle>No</TD></TR>
<TR>
<TD class=Table-Cell>unless</TD>
<TD class=Table-Cell>the name of the property that must not be set in order for this target to execute.</TD>
<TD class=Table-Cell align=middle>No</TD></TR>
<TR>
<TD class=Table-Cell>description</TD>
<TD class=Table-Cell>a short description of this target's function.</TD>
<TD class=Table-Cell align=middle>No</TD></TR></TBODY></TABLE></DIV><A name=tasks>
<P></P></A>
<P>A target can depend on other targets.&nbsp; You might have a target for compiling, for example, and a target for creating a distributable.&nbsp; You can only build a distributable when you have compiled first, so the distribute target<EM> depends on </EM>the compile target.&nbsp; NAnt resolves these dependencies.</P>
<P>NAnt tries to execute the targets in the <CODE>depends</CODE> attribute in the order they appear from left to right.&nbsp; It is possible that a target can get executed earlier when an earlier target depends on it:</P>
<BLOCKQUOTE><PRE>&lt;target name="A"/&gt;
&lt;target name="B" depends="A"/&gt;
&lt;target name="C" depends="B"/&gt;
&lt;target name="D" depends="C,B,A"/&gt;</PRE></BLOCKQUOTE>
<P>Suppose we want to execute target D.&nbsp; From its <CODE>depends</CODE> attribute, you might think that first target C, then B and then A is executed.&nbsp; Wrong!&nbsp; C depends on B, and B depends on A, so first A is executed, then B, then C, and finally D.</P>
<P>A target gets executed only once, even when more than one target depends on it (see the previous example).</P>
<P>A target also has the ability to perform its execution if or unless a property has been set.&nbsp; This allows, for example, better control on the building process depending on the state of the system (OS, command-line property defines, etc.).&nbsp; To make a target <I>sense</I> this property, you should add the <CODE>if</CODE> or <CODE>unless</CODE> attribute with the name of the property that the target should react to. For example:</P>
<BLOCKQUOTE><PRE>&lt;target name="build-module-A" if="module-A-present"/&gt;</PRE><PRE>&lt;target name="build-own-fake-module-A" unless="module-A-present"/&gt;</PRE></BLOCKQUOTE>
<P>If no <CODE>if</CODE> and no <CODE>unless</CODE> attribute is present, the target will always be executed.</P>
<P>The optional <CODE>description</CODE> attribute can be used to provide a one-line description of this target, which is printed by the <NOBR><CODE>-projecthelp</CODE></NOBR> command-line option.</P>
</body>

</html>

